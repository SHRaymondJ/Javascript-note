# Javascript 常见问题

### 分号问题

> 分号自动插入的情况:

简要归纳下，自动分号插入以换行为基础，解析器会尽量将新行并入当前行，当且仅当符合 ASI 规则时才会将新行视为独立的语句

主要有以下自动插入规则：

1. **当新的一行并入当前行将构成非法语句不能正确解析时，将自动插入分号**
2. **当新行以}开头时，即代码块的结束位置，将自动插入分号**
3. **当以return语句结束时, 在行末自动插入分号**
4. **当以break语句结束时, 在行末自动插入分号**
5. **当以throw语句结束时,在行末自动插入分号**
6. **当以continue语句结束时, 在行末自动插入分号**
7. **当以 ES6 的 yield 语句结尾时，在行末自动插入分号**
8. **++、-- 后缀表达式作为新行的开始，在行首自动插入分号**
9. **源代码文件末尾自动插入号**

如上所示，如果没加分号，运行这段代码这段代码将报错。



> 不能省略分号的情况

通常，如果语句以 (, [, /, +, -, 开头时，就有可能被解释为上一行语句的一部分。 所以就要再行首加防御性的分号

