<script>
    function Calculator() {
        this.methods = {
            '+': (a, b) => a + b,
            '-': (a, b) => a - b,
        }
        this.calculate = (str) => {
            const arr = str.split(' ')
            const number1 = +arr[0],
                op = arr[1],
                number2 = +arr[2]
            if (isNaN(number1) || isNaN(number2) || !this.methods[op]) {
                return undefined
            } else {
                return this.methods[op](number1, number2)
            }
        }
        this.addMethod = (str, method) => {
            if (!this.methods[str]) {
                this.methods[str] = method
            }
        }
    }

    let calc = new Calculator()
    alert(calc.calculate('3 + 7'))

    let powerCalc = new Calculator()
    powerCalc.addMethod('*', (a, b) => a * b)
    powerCalc.addMethod('/', (a, b) => a / b)
    powerCalc.addMethod('**', (a, b) => a ** b)

    let result = powerCalc.calculate('2 ** 3')
    alert(result) // 8
</script>
